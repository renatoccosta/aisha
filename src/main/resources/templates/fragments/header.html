<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<body>
<header th:fragment="topbar(subtitle)" class="topbar">
    <div class="wrap brand">
        <div class="brand-text">
            <h1>AI$HA</h1>
            <p th:text="${subtitle}"></p>
            <nav class="topnav">
                <a th:href="@{/dashboard}" th:text="#{nav.dashboard}"></a>
                <a th:href="@{/entries}" th:text="#{nav.entries}"></a>
                <a th:href="@{/categories}" th:text="#{nav.categories}"></a>
                <a th:href="@{/accounts}" th:text="#{nav.accounts}"></a>
            </nav>
        </div>
        <img class="brand-logo" th:src="@{/img/logo-option-1.svg}" th:alt="#{app.logo.alt}">
    </div>

    <div class="wrap period-filter-wrap">
        <form class="period-filter" method="post" th:action="@{/date-filter}">
            <input type="hidden" name="redirectTo" th:value="${currentPath}">

            <div class="period-filter-row">
                <span class="period-filter-label" th:text="#{dateFilter.label}"></span>
                <div class="actions-inline">
                    <button
                        class="btn btn-secondary"
                        type="submit"
                        name="action"
                        value="SET_WEEK"
                        th:classappend="${!globalDateFilter.custom and globalDateFilter.preset.name() == 'WEEK'} ? ' btn-active' : ''"
                        th:text="#{dateFilter.preset.week}">
                    </button>
                    <button
                        class="btn btn-secondary"
                        type="submit"
                        name="action"
                        value="SET_MONTH"
                        th:classappend="${!globalDateFilter.custom and globalDateFilter.preset.name() == 'MONTH'} ? ' btn-active' : ''"
                        th:text="#{dateFilter.preset.month}">
                    </button>
                    <button
                        class="btn btn-secondary"
                        type="submit"
                        name="action"
                        value="SET_YEAR"
                        th:classappend="${!globalDateFilter.custom and globalDateFilter.preset.name() == 'YEAR'} ? ' btn-active' : ''"
                        th:text="#{dateFilter.preset.year}">
                    </button>
                </div>
            </div>

            <div class="period-filter-row period-filter-row-nav">
                <div class="actions-inline">
                    <button class="btn btn-secondary" type="submit" name="action" value="GO_PREVIOUS" th:text="#{dateFilter.nav.previous}"></button>
                    <button class="btn btn-secondary" type="submit" name="action" value="GO_CURRENT" th:text="#{dateFilter.nav.current}"></button>
                    <button class="btn btn-secondary" type="submit" name="action" value="GO_NEXT" th:text="#{dateFilter.nav.next}"></button>
                </div>
                <p class="period-filter-summary">
                    <span th:text="${#temporals.format(globalDateFilter.startDate, 'dd/MM/yyyy')}"></span>
                    <span> - </span>
                    <span th:text="${#temporals.format(globalDateFilter.endDate, 'dd/MM/yyyy')}"></span>
                </p>
            </div>

            <div class="period-filter-row period-filter-row-custom">
                <div class="period-filter-inputs">
                    <label for="date-filter-start" th:text="#{dateFilter.field.start}"></label>
                    <input id="date-filter-start" type="date" name="startDate" th:value="${globalDateFilter.startDate}">
                </div>
                <div class="period-filter-inputs">
                    <label for="date-filter-end" th:text="#{dateFilter.field.end}"></label>
                    <input id="date-filter-end" type="date" name="endDate" th:value="${globalDateFilter.endDate}">
                </div>
                <button class="btn btn-primary" type="submit" name="action" value="APPLY_CUSTOM" th:text="#{dateFilter.action.apply}"></button>
            </div>
        </form>
    </div>
</header>
</body>
</html>
